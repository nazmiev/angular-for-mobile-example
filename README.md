# Как мы создали нативную мобильную версию для Angular-приложения

## Исходная задача

Наша команда разрабатывала трекер бизнес-процессов на базе Angular.

Стояла задача создать удобную мобильную версию приложения, особенно для модуля визуализации диаграмм процессов.

## Анализ альтернатив

Я исследовал несколько подходов:

**Вариант 1: React Native / Flutter**

- Плюсы: нативное исполнение
    
- Минусы: риск проблем с публикацией в магазинах приложений, необходимость переписывать диаграммы с нуля
    

**Вариант 2: PWA / Мобильная версия**

- Плюсы: кроссплатформенность
    
- Минусы: менее нативное поведение
    

После оценки всех факторов руководство приняло решение реализовать второй вариант.

## Предложенное решение

Я разработал архитектурный подход для создания нативной мобильной версии в Angular:

- Создание базовой директивы с общей логикой управления
    
- Наследование директивы в двух версиях компонентов: мобильной и десктопной
    
- Централизованное тестирование общей логики в директиве
    
- Разделение специфичных тестов по соответствующим компонентам
    
- Автоматическое определение и подгрузка нужной версии компонента
    

## Реализация

В рамках каждой пользовательской истории мы выполняли:

1. Разработку директивы с общей логикой и тестами
    
2. Создание десктопной версии компонента со специфичными тестами
    
3. Разработку мобильной версии компонента с переиспользуемыми элементами
    
4. Написание мобильных тестов
    


## Результаты

Нам удалось достичь ожидаемого поведения приложения. 

Особое внимание уделили обработке жестов: свайпы обрабатываются специальной директивой, привязанной к контейнеру, что позволяет эффективно реагировать на пользовательские действия.

## Демонстрация

Для наглядности решения я создал этот MVP, демонстрирующий описанную архитектуру.

https://nazmiev.github.io/angular-for-mobile-example/

Буду рад обсудить ваш опыт в подобных задачах и услышать предложения по улучшению решения!

t.me/roma_nazmiev
